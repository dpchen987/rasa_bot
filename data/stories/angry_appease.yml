version: "3.1"

# 登记流程
stories:

# 生气
- story: angry 1
  steps:
    - or:
        - intent: angry
        - intent: no_use
        - intent: grumble_logistics_net_courier
        - intent: threaten_complaint
        - intent: not_arrive_threaten_complaint
        - intent: not_process_threaten_complaint
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 1
    - action: utter_angry_appease_apologize
    - action: utter_angry_appease_processing
    - action: action_session_start

# 不接受道歉
- story: not_accept_apology 1
  steps:
    - intent: not_accept_apology
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 1
    - action: utter_angry_appease_processing
    - action: action_session_start

- story: angry 2
  steps:
    - or:
        - intent: angry
        - intent: no_use
        - intent: grumble_logistics_net_courier
        - intent: threaten_complaint
        - intent: not_arrive_threaten_complaint
        - intent: not_process_threaten_complaint
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 2
    - action: utter_apologize_reply
    - action: utter_angry_appease_understand
    - action: action_session_start

- story: not_accept_apology 2
  steps:
    - intent: not_accept_apology
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 2
    - action: utter_angry_appease_understand
    - action: action_session_start

- story: angry 3
  steps:
    - or:
        - intent: angry
        - intent: no_use
        - intent: grumble_logistics_net_courier
        - intent: threaten_complaint
        - intent: not_arrive_threaten_complaint
        - intent: not_process_threaten_complaint
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 3
    - action: utter_angry_appease_threaten_complaint
    - action: action_session_start

- story: not_accept_apology 3
  steps:
    - intent: not_accept_apology
    - action: action_intent_count
    - slot_was_set:
        - slot_angry_count_key: 3
    - action: utter_angry_appease_threaten_complaint
    - action: action_session_start

- story: angry 4 and greater than 4
  steps:
    - or:
        - intent: angry
        - intent: no_use
        - intent: grumble_logistics_net_courier
        - intent: threaten_complaint
        - intent: not_arrive_threaten_complaint
        - intent: not_process_threaten_complaint
    - action: action_intent_count
    # 此处的数字“100”并不是表示意图计数100次，而是表示大于“计数槽位最大值”的意思，假如“计数槽位最大值”为5，则大于等于6的数字都可以表示大于“计数槽位最大值”的意思，我们为了统一，指定了一个较大的数字100
    - slot_was_set:
        - slot_angry_count_key: 100
    - action: utter_angry_appease_dont_angry
    - action: action_session_start

- story: not_accept_apology 4 and greater than 4
  steps:
    - intent: not_accept_apology
    - action: action_intent_count
    # 此处的数字“100”并不是表示意图计数100次，而是表示大于“计数槽位最大值”的意思，假如“计数槽位最大值”为5，则大于等于6的数字都可以表示大于“计数槽位最大值”的意思，我们为了统一，指定了一个较大的数字100
    - slot_was_set:
        - slot_angry_count_key: 100
    - action: utter_angry_appease_dont_angry
    - action: action_session_start

# 骂人
- story: swearing 1
  steps:
    - intent: swearing
    - action: action_intent_count
    - slot_was_set:
        - slot_swearing_count_key: 1
    - action: utter_angry_appease_swearing_1
    - action: utter_angry_appease_processing
    - action: action_session_start

- story: swearing 2
  steps:
    - intent: swearing
    - action: action_intent_count
    - slot_was_set:
        - slot_swearing_count_key: 2
    - action: utter_angry_appease_swearing_1
    - action: utter_angry_appease_understand
    - action: action_session_start

- story: swearing 3
  steps:
    - intent: swearing
    - action: action_intent_count
    - slot_was_set:
        - slot_swearing_count_key: 3
    - action: utter_angry_appease_swearing_2
    - action: action_session_start

- story: swearing 4
  steps:
    - intent: swearing
    - action: action_intent_count
    - slot_was_set:
        - slot_swearing_count_key: 4
    - action: utter_angry_appease_swearing_2
    - action: action_session_start

- story: swearing 5 and greater than 5
  steps:
    - intent: swearing
    - action: action_intent_count
    # 此处的数字“100”并不是表示意图计数100次，而是表示大于“计数槽位最大值”的意思，假如“计数槽位最大值”为5，则大于等于6的数字都可以表示大于“计数槽位最大值”的意思，我们为了统一，指定了一个较大的数字100
    - slot_was_set:
        - slot_swearing_count_key: 100
    - action: utter_angry_appease_swearing
    - action: action_session_start