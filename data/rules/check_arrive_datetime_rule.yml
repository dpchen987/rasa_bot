version: "3.1"

rules:

  # 查看快递到达时间激活表单
  - rule: heck arrive datetime
    steps:
      - intent: check_arrive_datetime
      - action: action_form_count_rollback
      - action: collect_express_id_form
      - active_loop: collect_express_id_form

  # 提交表单查看快递到达时间
  - rule: submit form and heck arrive datetime
    condition:
    - active_loop: collect_express_id_form   # this form must be active
    steps:
      - action: collect_express_id_form      # run the form
      - active_loop: null   
      - slot_was_set:         # the form is no longer active because it has been filled
        - slot_main_intent: check_arrive_datetime
      - action: action_check_arrive_datetime         # action to take after the form is complete
      - action: action_session_start